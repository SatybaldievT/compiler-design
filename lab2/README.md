# Лабораторная работа № 2.1. Синтаксические деревья

**Скоробогатов С.Ю.**

**20 августа 2013**

## 1. Цель работы

Целью данной работы является изучение представления синтаксических деревьев в памяти компилятора и приобретение навыков преобразования синтаксических деревьев.

## 2. Исходные данные

В качестве исходного языка и языка реализации программы преобразования синтаксических деревьев выберем язык Go. Пакеты `"go/token"`, `"go/ast"` и `"go/parser"` из стандартной библиотеки этого языка содержат готовый «front-end» компилятора языка Go, а пакет `"go/format"` восстанавливает исходный текст программы по её синтаксическому дереву. Документацию по этим пакетам можно посмотреть по адресу [http://golang.org/pks/go/](http://golang.org/pks/go/).

Построение синтаксического дерева по исходному тексту программы выполняется функцией `parser.ParseFile`, возвращающей указатель типа `*ast.File` на корень дерева.

Синтаксические деревья в памяти представляются значениями структур из пакета `"go/ast"`. Изучать синтаксические деревья удобно по их листингам, порождаемым функцией `ast.Fprint`. Небольшая программа `astprint`, которая, ко всему прочему, демонстрирует вызов парсера для построения синтаксического дерева программы, представлена на листинге.

## 3. Задание

Выполнение лабораторной работы состоит из нескольких этапов:

1. Подготовка исходного текста демонстрационной программы, которая в дальнейшем будет выступать в роли объекта преобразования (демонстрационная программа должна размещаться в одном файле и содержать функцию `main`).
2. Компиляция и запуск программы `astprint` для изучения структуры синтаксического дерева демонстрационной программы.
3. Разработка программы, осуществляющей преобразование синтаксического дерева и порождение по нему новой программы.
4. Тестирование работоспособности разработанной программы на исходном тексте демонстрационной программы.

Преобразование синтаксического дерева должно вносить в преобразующую программу дополнительные возможности, указанные в индивидуальном варианте.

## 4. Индивидуальный вариант

Разбить блоки объявления нескольких переменных на несколько блоков объявления одной переменной.
